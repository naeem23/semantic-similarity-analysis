# ML 24/25-09 Semantic Similarity Analysis of Textual Data

This project is designed to analyze the semantic similarity between textual data (words/phrases or documents) using OpenAI's embedding models. It calculates cosine similarity scores for pairs of embeddings generated by three different OpenAI models: 'text-embedding-ada-002', 'text-embedding-3-small', and 'text-embedding-3-large'. The results are saved in a CSV file, and a Python script is provided to visualize the similarity scores using a scatter plot.

# Features
   * Textual Data Comparison: Compare semantic similarity at the Word or Phrase Level or Document Level.

   * Multiple Input Options: Accepts multiple source and reference inputs for comparison.

   * Folder Input Support: Allows users to input directories for document-level comparison.
   
   * Similarity Score: Calculates similarity scores using cosine similarity for three embedding models.

   * CSV Output: Saves similarity scores in a CSV file (`similarity_results.csv`) in the `Output` folder with columns: Source, Reference, Score_Ada, Score_Small, Score_Large.

   * Visualization: Provides a Python script to generate a scatter plot to visualize the similarity scores.


# Prerequisites

Before running the project, ensure you have the following installed:

   * .NET Framework: The project is built using the .NET Framework version 9.0.

   * OpenAI API Key: You need an OpenAI API key to generate embeddings. Add your API key to the configuration file (.env).

   * Python: Required for running the visualization script. This project uses Python 3.10.6.

   * Python Dependencies: Install the required Python packages using the python-requirements.txt file.


# Installation

1. Clone the repository:
   ```
   git clone https://github.com/naeem23/semantic-similarity-analysis.git
   cd semantic-similarity-analysis
   ```

2. Set Up Environment Variables:
Copy the .env.example file to .env in both the main project and test project directories.
Replace YOUR_API_KEY_HERE with your actual OpenAI API key in both .env files.
   ```
   OPENAI_API_KEY=your_api_key_here
   ```

4. Install the required .NET packages:
The project uses the OpenAI NuGet package. Restore the packages using:
    ```
    dotnet restore
    ```

6. Install Python dependencies:
   ```
   pip install -r python-requirements.txt
   ```


# Usage

   1. Run the .NET Project:
      *  Navigate to the project directory and run the project:
      ```
      dotnet run
      ```
      
      * The program will prompt you to choose between word/phrase level or document level comparison.

      * For word/phrase level, enter multiple source and reference inputs (one per line).

      * For document level, provide the paths to the source and reference folders.

      * The similarity scores will be calculated and saved in the Output/similarity_results.csv file.

   2. Visualize the Results:
      * Navigate to the Output folder:
        ```
        cd Output
        ```
         
      * Run the Python script to generate the scatter plot:
        ```
        python visual-data-presentation.py
        ```

      * A web server will open in your browser, displaying the scatter plot of the similarity scores.


# Project Folder Structure
  ![image](https://github.com/user-attachments/assets/d6177a2d-5e3b-4945-8ec2-0cc494ceb4eb)


# Configuration

   * Add your OpenAI API key to the appropriate configuration file (e.g., .env).

   * Modify the Output folder path in the code if needed.


# Example
Input:
* Word/Phrase Level:
  Source: "machine learning", "artificial intelligence"
  Reference: "deep learning", "neural networks"
  ![image](https://github.com/user-attachments/assets/37bc3e02-4136-4552-8334-a61a609cb88f)

* Document Level:
  Source Folder: `G:\FUAS\SE\semantic-similarity-analysis\SemanticSimilarity\SemanticSimilarity\Input\Sources`
  Reference Folder: `G:\FUAS\SE\semantic-similarity-analysis\SemanticSimilarity\SemanticSimilarity\Input\References`
  ![image](https://github.com/user-attachments/assets/4b73bd81-0781-454e-9719-568f94ed9511)


# Output:
The similarity_results.csv file will contain:
| Source  | Reference | Score_Ada | Score_Small | Score_Large |
| ------------- | ------------- | ------------- | ------------- | ------------- |
| machine learning  | deep learning  | 0.92 | 0.89 | 0.91 | 
| artificial intelligence  | neural networks | 0.88 | 0.85 | 0.87 |


# Visualization:
The scatter plot will display the similarity scores for each model.


# Test Project
The test project is included to ensure the correctness of the main project. It uses the same .env file for the OpenAI API key.

   1. Run Tests:
        Navigate to the tests directory and run the tests:
        ```
        dotnet test
        ```


# Contributing
   Contributions are welcome! Please open an issue or submit a pull request for any improvements or bug fixes.


# License
   This project is licensed under the MIT License. See the LICENSE file for details.
